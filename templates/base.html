<!DOCTYPE html>
<html>
<head>
    <title>Blog podr√≥≈ºniczy</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
     <script src="{{ url_for('static', filename='js/like.js') }}"></script>
</head>
<body style="background-color: #f8fcfc;">
<!-- Nawigacja g√≥rna (navbar) -->
<nav class="navbar navbar-expand-lg navbar-light sticky-top shadow-sm " style="background-color: #ffffff;">
  <div class="container ">
    <!-- Logo -->
   <a class="navbar-brand fw-bold d-flex align-items-center ms-n4" href="/">
      <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" style="height: 32px " class=" me-3">
      
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <!-- Rozwijane menu -->
    <div class="collapse navbar-collapse" id="navbarMenu">
  <div class="d-flex flex-column flex-md-row align-items-end align-items-md-center justify-content-md-end w-100 gap-2">
    
    <!-- Dropdown z krajami -->
    <div class="dropdown">
      <a class="btn btn-outline-secondary dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
        üåç Relacje z podr√≥≈ºy
      </a>
      <ul class="dropdown-menu">
         <li><a class="dropdown-item d-flex align-items-center" href="/country/Grecja"><img src="https://flagcdn.com/w40/gr.png" width="20" class="me-2">Grecja</a></li>
        <li><a class="dropdown-item d-flex align-items-center" href="/country/Wlochy"><img src="https://flagcdn.com/w40/it.png" width="20" class="me-2">W≈Çochy</a></li>
        <li><a class="dropdown-item d-flex align-items-center" href="/country/Hiszpania"><img src="https://flagcdn.com/w40/es.png" width="20" class="me-2">Hiszpania</a></li>
        <li><a class="dropdown-item d-flex align-items-center" href="/country/Polska"><img src="https://flagcdn.com/w40/pl.png" width="20" class="me-2">Polska</a></li>
        <li><a class="dropdown-item d-flex align-items-center" href="/country/Chorwacja"><img src="https://flagcdn.com/w40/hr.png" width="20" class="me-2">Chorwacja</a></li>
        <li><a class="dropdown-item d-flex align-items-center" href="/country/Francja"><img src="https://flagcdn.com/w40/fr.png" width="20" class="me-2">Francja</a></li>
        <li><a class="dropdown-item d-flex align-items-center" href="/country/Niemcy"><img src="https://flagcdn.com/w40/de.png" width="20" class="me-2">Niemcy</a></li>
      </ul>
    </div>

    <!-- Dodaj post -->
    <a href="/add" class="btn btn-outline-secondary dropdown-toggle">
      ‚ûï Dodaj nowy post
    </a>

  </div>
</div>



  </div>
</nav>
<!-- G≈Ç√≥wna zawarto≈õƒá strony ‚Äì wype≈Çniana z szablon√≥w rozszerzajƒÖcych -->
<main class="container my-4">
    {% block content %}{% endblock %}
</main>
<!-- Stopka -->
<footer class="text-center text-muted py-3 border-top">
    <small>&copy; 2025 M√≥j Blog Podr√≥≈ºniczy</small>
</footer>

</body>
</html>
<!-- Skrypt JS ‚Äì obs≈Çuga klikniƒôcia przycisku lajka -->
<script>
document.addEventListener('click', async function (e) {
    if (e.target.matches('.like-btn')) {
        const button = e.target;
        const postId = button.dataset.id; // ID posta z atrybutu data-id
        const countSpan = button.querySelector('.like-count');  // Miejsce, gdzie wy≈õwietlana jest liczba like

        button.disabled = true;  // Tymczasowe wy≈ÇƒÖczenie przycisku

        try {
            const response = await fetch(`/like/${postId}`, {
                method: 'POST'
            });

            if (!response.ok) throw new Error('B≈ÇƒÖd przy dodawaniu lajka');

            const data = await response.json();
            countSpan.textContent = data.likes;  // Aktualizacja liczby lajk√≥w
        } catch (error) {
            console.error("B≈ÇƒÖd:", error); // Obs≈Çuga b≈Çƒôd√≥w
        } finally {
            button.disabled = false; // Ponowne w≈ÇƒÖczenie przycisku
        }
    }
});

</script>
